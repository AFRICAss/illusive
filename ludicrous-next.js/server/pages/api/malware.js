"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/malware";
exports.ids = ["pages/api/malware"];
exports.modules = {

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("node-fetch");;

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "(api)/./pages/api/malware.ts":
/*!******************************!*\
  !*** ./pages/api/malware.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-fetch */ \"node-fetch\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! querystring */ \"querystring\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(querystring__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([node_fetch__WEBPACK_IMPORTED_MODULE_0__]);\nnode_fetch__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\nconst APIKey = \"AIzaSyCh155Wja0k23vM0w5ghR6TXiPAsD-H9EQ\";\nconst URL = `https://safebrowsing.googleapis.com/v4/threatMatches:find?key=${APIKey}`;\n\n\nconst body = (e)=>({\n        \"threatInfo\": {\n            \"threatTypes\": [\n                \"MALWARE\",\n                \"SOCIAL_ENGINEERING\"\n            ],\n            \"platformTypes\": [\n                \"ALL_PLATFORMS\"\n            ],\n            \"threatEntryTypes\": [\n                \"URL\"\n            ],\n            \"threatEntries\": [\n                {\n                    \"url\": String(e)\n                }, \n            ]\n        }\n    });\nconst get = (body)=>new Promise((r)=>(0,node_fetch__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(URL, {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\"\n            },\n            body: JSON.stringify(body)\n        }).then((e)=>e.json()).then(r));\nasync function handler(req, res) {\n    var parsed = (0,querystring__WEBPACK_IMPORTED_MODULE_1__.parse)(req.url.split(\"?\")[1]);\n    var url = parsed[\"url\"];\n    if (!url) return res.end(\"URL Required (?url=*)\");\n    var send = body(url);\n    var fetched = await get(send);\n    res.status(200).json(fetched);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbWFsd2FyZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHLHlDQUF5QztBQUN4RCxNQUFNQyxHQUFHLEdBQUcsQ0FBQyw4REFBOEQsRUFBRUQsTUFBTSxDQUFDLENBQUM7QUFFdEQ7QUFDSztBQUVwQyxNQUFNSSxJQUFJLEdBQUcsQ0FBQ0MsQ0FBQyxHQUFLLENBQUM7UUFDakIsWUFBWSxFQUFFO1lBQ1YsYUFBYSxFQUFFO2dCQUFDLFNBQVM7Z0JBQUMsb0JBQW9CO2FBQUM7WUFDL0MsZUFBZSxFQUFFO2dCQUFDLGVBQWU7YUFBQztZQUNsQyxrQkFBa0IsRUFBRTtnQkFBQyxLQUFLO2FBQUM7WUFDM0IsZUFBZSxFQUFFO2dCQUNiO29CQUFDLEtBQUssRUFBRUMsTUFBTSxDQUFDRCxDQUFDLENBQUM7aUJBQUM7YUFDckI7U0FDSjtLQUNKLENBQUM7QUFHRixNQUFNRSxHQUFHLEdBQUcsQ0FBQ0gsSUFBSSxHQUFLLElBQUlJLE9BQU8sQ0FBQ0MsQ0FBQUEsQ0FBQyxHQUFFUCxzREFBSyxDQUFDRCxHQUFHLEVBQUU7WUFBQ1MsTUFBTSxFQUFFLE1BQU07WUFBRUMsT0FBTyxFQUFFO2dCQUFDLGNBQWMsRUFBRSxrQkFBa0I7YUFBQztZQUFFUCxJQUFJLEVBQUVRLElBQUksQ0FBQ0MsU0FBUyxDQUFDVCxJQUFJLENBQUM7U0FBQyxDQUFDLENBQUNVLElBQUksQ0FBQ1QsQ0FBQUEsQ0FBQyxHQUFFQSxDQUFDLENBQUNVLElBQUksRUFBRSxDQUFDLENBQUNELElBQUksQ0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFeEosZUFBZU8sT0FBTyxDQUNuQ0MsR0FBbUIsRUFDbkJDLEdBQTBCLEVBQzFCO0lBRUUsSUFBSUMsTUFBTSxHQUFJaEIsa0RBQUssQ0FBQ2MsR0FBRyxDQUFDRyxHQUFHLENBQUNDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUUxQyxJQUFJRCxHQUFHLEdBQUdELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFFdkIsSUFBSSxDQUFDQyxHQUFHLEVBQUUsT0FBT0YsR0FBRyxDQUFDSSxHQUFHLENBQUMsdUJBQXVCLENBQUM7SUFFakQsSUFBSUMsSUFBSSxHQUFHbkIsSUFBSSxDQUFDZ0IsR0FBRyxDQUFDO0lBQ3BCLElBQUlJLE9BQU8sR0FBRyxNQUFNakIsR0FBRyxDQUFDZ0IsSUFBSSxDQUFDO0lBRTdCTCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1YsSUFBSSxDQUFFUyxPQUFPLENBQUU7Q0FDbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9wYWdlcy9hcGkvbWFsd2FyZS50cz9mYTdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnXG5cbmNvbnN0IEFQSUtleSA9ICdBSXphU3lDaDE1NVdqYTBrMjN2TTB3NWdoUjZUWGlQQXNELUg5RVEnO1xuY29uc3QgVVJMID0gYGh0dHBzOi8vc2FmZWJyb3dzaW5nLmdvb2dsZWFwaXMuY29tL3Y0L3RocmVhdE1hdGNoZXM6ZmluZD9rZXk9JHtBUElLZXl9YDtcblxuaW1wb3J0IGZldGNoIGZyb20gJ25vZGUtZmV0Y2gnO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICdxdWVyeXN0cmluZyc7XG5cbmNvbnN0IGJvZHkgPSAoZSkgPT4gKHtcbiAgICBcInRocmVhdEluZm9cIjoge1xuICAgICAgICBcInRocmVhdFR5cGVzXCI6IFtcIk1BTFdBUkVcIixcIlNPQ0lBTF9FTkdJTkVFUklOR1wiXSxcbiAgICAgICAgXCJwbGF0Zm9ybVR5cGVzXCI6IFtcIkFMTF9QTEFURk9STVNcIl0sXG4gICAgICAgIFwidGhyZWF0RW50cnlUeXBlc1wiOiBbXCJVUkxcIl0sXG4gICAgICAgIFwidGhyZWF0RW50cmllc1wiOiBbXG4gICAgICAgICAgICB7XCJ1cmxcIjogU3RyaW5nKGUpfSxcbiAgICAgICAgXVxuICAgIH1cbn0pXG5cblxuY29uc3QgZ2V0ID0gKGJvZHkpID0+IG5ldyBQcm9taXNlKHI9PmZldGNoKFVSTCwge21ldGhvZDogJ1BPU1QnLCBoZWFkZXJzOiB7J2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpfSkudGhlbihlPT5lLmpzb24oKSkudGhlbihyKSlcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2U8RGF0YT5cbikge1xuICBcbiAgICB2YXIgcGFyc2VkID0gKHBhcnNlKHJlcS51cmwuc3BsaXQoJz8nKVsxXSkpO1xuXG4gICAgdmFyIHVybCA9IHBhcnNlZFsndXJsJ107XG5cbiAgICBpZiAoIXVybCkgcmV0dXJuIHJlcy5lbmQoJ1VSTCBSZXF1aXJlZCAoP3VybD0qKScpXG5cbiAgICB2YXIgc2VuZCA9IGJvZHkodXJsKTtcbiAgICB2YXIgZmV0Y2hlZCA9IGF3YWl0IGdldChzZW5kKTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKChmZXRjaGVkKSlcbn1cbiJdLCJuYW1lcyI6WyJBUElLZXkiLCJVUkwiLCJmZXRjaCIsInBhcnNlIiwiYm9keSIsImUiLCJTdHJpbmciLCJnZXQiLCJQcm9taXNlIiwiciIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsImpzb24iLCJoYW5kbGVyIiwicmVxIiwicmVzIiwicGFyc2VkIiwidXJsIiwic3BsaXQiLCJlbmQiLCJzZW5kIiwiZmV0Y2hlZCIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/malware.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/malware.ts"));
module.exports = __webpack_exports__;

})();